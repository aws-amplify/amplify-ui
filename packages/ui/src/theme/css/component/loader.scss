.amplify-loader {
  width: var(--amplify-components-loader-width);
  height: var(--amplify-components-loader-height);
  fill: none;
  stroke: var(--amplify-components-loader-stroke-empty);
  stroke-width: var(--amplify-components-loader-stroke-width);
  circle:last-of-type {
    transform-origin: center center;
    animation-name: circular;
    animation-duration: 1s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    stroke: var(--amplify-components-loader-stroke-filled);
    stroke-linecap: var(--amplify-components-loader-stroke-linecap);
  }

  &[data-size='small'] {
    width: var(--amplify-components-loader-small-width);
    height: var(--amplify-components-loader-small-height);
  }

  &[data-size='large'] {
    width: var(--amplify-components-loader-large-width);
    height: var(--amplify-components-loader-large-height);
  }

  line:last-of-type {
    stroke: var(--amplify-components-loader-linear-stroke-filled);
    stroke-dasharray: 50% 200%; // This will affect the animation. We don't want this to be overridden
    animation-name: linear;
    animation-duration: 1s;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  &[data-variation='linear'] {
    width: var(--amplify-components-loader-linear-width);
    min-width: var(--amplify-components-loader-linear-min-width);
    height: var(--amplify-components-loader-linear-height);
    stroke: var(--amplify-components-loader-linear-stroke-empty);
    stroke-width: var(--amplify-components-loader-linear-stroke-width);
    stroke-linecap: var(--amplify-components-loader-linear-stroke-linecap);

    &[data-size='small'] {
      height: var(--amplify-components-loader-linear-small-height);
      stroke-width: var(--amplify-components-loader-linear-small-stroke-width);
    }

    &[data-size='large'] {
      height: var(--amplify-components-loader-linear-large-height);
      stroke-width: var(--amplify-components-loader-linear-large-stroke-width);
    }
  }
}

@keyframes circular {
  0% {
    stroke-dasharray: 100% 200%;
    transform: rotate(120deg);
  }
  50% {
    stroke-dasharray: 20% 400%;
  }
  100% {
    stroke-dasharray: 100% 200%;
    transform: rotate(480deg);
  }
}

@keyframes linear {
  0% {
    stroke-dashoffset: 200%;
  }
  100% {
    stroke-dashoffset: -50%;
  }
}
