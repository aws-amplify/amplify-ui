<ng-template #signUpFormFields>
  <div
    class="amplify-flex"
    style="flex-direction: column"
    data-amplify-fieldset
  >
    <amplify-user-name-alias [name]="primaryAlias"></amplify-user-name-alias>
    <amplify-form-field
      name="password"
      autocomplete="new-password"
    ></amplify-form-field>
    <amplify-form-field
      name="confirm_password"
      label="Confirm Password"
      type="password"
      autocomplete="new-password"
    ></amplify-form-field>

    <ng-container *ngFor="let secondaryAlias of secondaryAliases">
      <amplify-form-field [name]="secondaryAlias"></amplify-form-field>
    </ng-container>
  </div>
</ng-template>

<form data-amplify-form (submit)="onSubmit($event)" (input)="onInput($event)">
  <div class="amplify-flex" style="flex-direction: column">
    <h3 class="amplify-heading">{{ this.headerText }}</h3>

    <div class="amplify-flex" style="flex-direction: column">
      <amplify-slot name="sign-up-form-fields" [context]="context">
        <ng-container *ngTemplateOutlet="signUpFormFields"></ng-container>
      </amplify-slot>

      <amplify-error *ngIf="remoteError">
        {{ remoteError }}
      </amplify-error>
    </div>

    <amplify-slot name="sign-up-button" [context]="context">
      <button
        [disabled]="isPending"
        amplify-button
        variation="primary"
        fullWidth="true"
        type="submit"
      >
        {{ createAccountText }}
      </button>
    </amplify-slot>
    <amplify-federated-sign-in></amplify-federated-sign-in>
  </div>
</form>
