<div
  data-amplify-authenticator
  *ngIf="!authenticatorState.matches('authenticated')"
>
  <div data-authenticator-variation="modal" *ngIf="variationModal"></div>

  <div data-amplify-container>
    <amplify-tabs
      (tabChange)="onTabChange()"
      *ngIf="actorState?.matches('signIn') || actorState?.matches('signUp')"
    >
      <amplify-tab-item
        [title]="signInTitle"
        [active]="actorState?.matches('signIn')"
      >
        <!-- signIn component -->
        <amplify-slot name="sign-in" *ngIf="actorState?.matches('signIn')">
          <amplify-sign-in></amplify-sign-in>
        </amplify-slot>
      </amplify-tab-item>
      <amplify-tab-item
        [title]="signUpTitle"
        [active]="actorState?.matches('signUp')"
      >
        <!-- signUp component -->
        <amplify-slot name="sign-up" *ngIf="actorState?.matches('signUp')">
          <amplify-sign-up></amplify-sign-up>
        </amplify-slot>
      </amplify-tab-item>
    </amplify-tabs>

    <!-- confirmSignUp content -->
    <amplify-slot
      name="confirm-sign-up"
      *ngIf="actorState?.matches('confirmSignUp')"
    >
      <amplify-confirm-sign-up></amplify-confirm-sign-up>
    </amplify-slot>

    <!-- confirmSignIn content -->
    <amplify-slot
      name="confirm-sign-in"
      *ngIf="actorState?.matches('confirmSignIn')"
    >
      <amplify-confirm-sign-in></amplify-confirm-sign-in>
    </amplify-slot>

    <!-- setupTotp content -->
    <amplify-slot name="setup-totp" *ngIf="actorState?.matches('setupTOTP')">
      <amplify-setup-totp></amplify-setup-totp>
    </amplify-slot>

    <!-- forceNewPassword content -->
    <amplify-slot
      name="force-new-password"
      *ngIf="actorState?.matches('forceNewPassword')"
    >
      <amplify-force-new-password></amplify-force-new-password>
    </amplify-slot>

    <!-- resetPassword content -->
    <amplify-slot
      name="reset-password"
      *ngIf="actorState?.matches('resetPassword')"
    >
      <amplify-reset-password></amplify-reset-password>
    </amplify-slot>

    <!-- confirmResetPassword content -->
    <amplify-slot
      name="confirm-reset-password"
      *ngIf="actorState?.matches('confirmResetPassword')"
    >
      <amplify-confirm-reset-password></amplify-confirm-reset-password>
    </amplify-slot>

    <!-- verifyUser content -->
    <amplify-slot name="verify-user" *ngIf="actorState?.matches('verifyUser')">
      <amplify-verify-user></amplify-verify-user>
    </amplify-slot>

    <!-- confirmVerifyUser content -->
    <amplify-slot
      name="confirm-verify-user"
      *ngIf="actorState?.matches('confirmVerifyUser')"
    >
      <amplify-confirm-verify-user></amplify-confirm-verify-user>
    </amplify-slot>
  </div>
</div>

<!-- signedIn content is rendered outside authenticator so it's not styled by authenticator -->
<amplify-slot
  name="authenticated"
  [context]="authenticatedContext"
  *ngIf="authenticatorState.matches('authenticated')"
>
  <ng-content></ng-content>
</amplify-slot>
