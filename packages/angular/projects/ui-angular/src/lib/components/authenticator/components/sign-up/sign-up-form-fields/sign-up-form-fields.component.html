<div class="amplify-flex" style="flex-direction: column" data-amplify-fieldset>
  <ng-container *ngFor="let field of order">
    <ng-container [ngSwitch]="field">
      <amplify-user-name-alias
        *ngSwitchCase="loginMechanism"
        [name]="loginMechanism"
        [labelHidden]="grabField(loginMechanism, 'labelHidden', true)"
        [placeholder]="userOverrides?.placeholder"
        [required]="grabField(loginMechanism, 'required', true)"
        [label]="userOverrides?.label"
        [dialCode]="userOverrides?.dialCode"
        [dialCodeList]="userOverrides?.dialCodeList"
      ></amplify-user-name-alias>
      <ng-container *ngSwitchCase="'password'">
        <amplify-form-field
          [labelHidden]="grabField('password', 'labelHidden', true)"
          [placeholder]="grabField('password', 'placeholder', null)"
          [required]="grabField('password', 'required', true)"
          [label]="grabField('password', 'label', null)"
          name="password"
          autocomplete="new-password"
        ></amplify-form-field>
        <div data-amplify-sign-up-errors *ngIf="errors">
          <!-- TODO: add amplify-alert reusable component -->
          <div
            class="amplify-text"
            data-variation="error"
            *ngFor="let error of errors"
          >
            {{ translate(error) }}
          </div>
        </div>
      </ng-container>
      <amplify-form-field
        *ngSwitchCase="'confirm_password'"
        [labelHidden]="grabField('confirm_password', 'labelHidden', true)"
        [placeholder]="
          grabField('confirm_password', 'placeholder', 'Confirm Password')
        "
        [required]="grabField('confirm_password', 'required', true)"
        [label]="grabField('confirm_password', 'label', 'Confirm Password')"
        name="confirm_password"
        type="password"
        autocomplete="new-password"
      ></amplify-form-field>

      <amplify-form-field
        *ngSwitchDefault
        [name]="field"
        [labelHidden]="grabField(field, 'labelHidden', false)"
        [placeholder]="grabField(field, 'placeholder', null)"
        [required]="grabField(field, 'required', true)"
        [label]="grabField(field, 'label', null)"
        [defaultCountryCode]="grabField(field, 'dialCode', null)"
        [dialCodeList]="grabField(field, 'dialCodeList', null)"
      ></amplify-form-field>
    </ng-container>
  </ng-container>
</div>
