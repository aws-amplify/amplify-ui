<div data-amplify-authenticator [attr.data-variation]="variation">
  <div data-amplify-container>
    <div data-amplify-header>
      <amplify-slot name="header"></amplify-slot>
    </div>
    <div data-amplify-body>
      <amplify-tabs
        (tabChange)="onTabChange()"
        *ngIf="route === 'signIn' || route === 'signUp'"
      >
        <amplify-tab-item [title]="signInTitle" [active]="route === 'signIn'">
          <!-- signIn component -->
          <amplify-slot name="sign-in" *ngIf="route === 'signIn'">
            <amplify-sign-in></amplify-sign-in>
          </amplify-slot>
        </amplify-tab-item>
        <amplify-tab-item [title]="signUpTitle" [active]="route === 'signUp'">
          <!-- signUp component -->
          <amplify-slot name="sign-up" *ngIf="route === 'signUp'">
            <amplify-sign-up></amplify-sign-up>
          </amplify-slot>
        </amplify-tab-item>
      </amplify-tabs>

      <!-- confirmSignUp content -->
      <amplify-slot name="confirm-sign-up" *ngIf="route === 'confirmSignUp'">
        <amplify-confirm-sign-up></amplify-confirm-sign-up>
      </amplify-slot>

      <!-- confirmSignIn content -->
      <amplify-slot name="confirm-sign-in" *ngIf="route === 'confirmSignIn'">
        <amplify-confirm-sign-in></amplify-confirm-sign-in>
      </amplify-slot>

      <!-- setupTotp content -->
      <amplify-slot name="setup-totp" *ngIf="route === 'setupTOTP'">
        <amplify-setup-totp></amplify-setup-totp>
      </amplify-slot>

      <!-- forceNewPassword content -->
      <amplify-slot
        name="force-new-password"
        *ngIf="route === 'forceNewPassword'"
      >
        <amplify-force-new-password></amplify-force-new-password>
      </amplify-slot>

      <!-- resetPassword content -->
      <amplify-slot name="reset-password" *ngIf="route === 'resetPassword'">
        <amplify-reset-password></amplify-reset-password>
      </amplify-slot>

      <!-- confirmResetPassword content -->
      <amplify-slot
        name="confirm-reset-password"
        *ngIf="route === 'confirmResetPassword'"
      >
        <amplify-confirm-reset-password></amplify-confirm-reset-password>
      </amplify-slot>

      <!-- verifyUser content -->
      <amplify-slot name="verify-user" *ngIf="route === 'verifyUser'">
        <amplify-verify-user></amplify-verify-user>
      </amplify-slot>

      <!-- confirmVerifyUser content -->
      <amplify-slot
        name="confirm-verify-user"
        *ngIf="route === 'confirmVerifyUser'"
      >
        <amplify-confirm-verify-user></amplify-confirm-verify-user>
      </amplify-slot>
    </div>

    <div data-amplify-footer>
      <amplify-slot name="footer"></amplify-slot>
    </div>
  </div>
</div>

<!-- signedIn content is rendered outside authenticator so it's not styled by authenticator -->
<amplify-slot
  name="authenticated"
  [context]="authenticatedContext"
  *ngIf="route === 'authenticated'"
>
  <ng-content></ng-content>
</amplify-slot>
