<ng-template #signUpButton>
  <button data-amplify-button type="submit">Create Account</button>
</ng-template>

<ng-template #signUpUsername>
  <amplify-user-name-alias [name]="primaryAlias"></amplify-user-name-alias>
</ng-template>

<ng-template #signUpPassword>
  <amplify-input
    name="password"
    [required]="true"
    autocomplete="new-password"
  ></amplify-input>
</ng-template>

<ng-template #signUpConfirmPassword>
  <amplify-input
    name="confirm_password"
    label="Confirm Password"
    placeholder="Re-enter your password."
    [required]="true"
    type="password"
    autocomplete="new-password"
  ></amplify-input>
</ng-template>

<ng-template #signUpFieldset>
  <fieldset data-amplify-fieldset [disabled]="isPending">
    <ng-container
      [ngTemplateOutlet]="customComponents.signUpUsername || signUpUsername"
      [ngTemplateOutletContext]="context()"
    ></ng-container>

    <ng-container
      [ngTemplateOutlet]="customComponents.signUpPassword || signUpPassword"
      [ngTemplateOutletContext]="context()"
    ></ng-container>

    <ng-container
      [ngTemplateOutlet]="
        customComponents.signUpConfirmPassword || signUpConfirmPassword
      "
      [ngTemplateOutletContext]="context()"
    ></ng-container>

    <ng-container *ngFor="let secondaryAlias of secondaryAliases">
      <amplify-input [name]="secondaryAlias"></amplify-input>
    </ng-container>
  </fieldset>

  <amplify-error *ngIf="remoteError">
    {{ remoteError }}
  </amplify-error>
</ng-template>

<div data-amplify-container>
  <h2 data-amplify-header>{{ this.headerText }}</h2>
  <form
    data-amplify-form
    (submit)="onSubmit($event)"
    (input)="onInput($event)"
    ngNativeValidate
  >
    <ng-container
      [ngTemplateOutlet]="customComponents.signUpFieldset || signUpFieldset"
      [ngTemplateOutletContext]="context()"
    ></ng-container>

    <div data-amplify-footer>
      <div>
        Have an account?{{ ' ' }}
        <span data-amplify-link (click)="toSignIn()">Sign In</span>
      </div>
      <ng-container
        [ngTemplateOutlet]="customComponents.signUpButton || signUpButton"
        [ngTemplateOutletContext]="context()"
      >
      </ng-container>
    </div>
  </form>
</div>
