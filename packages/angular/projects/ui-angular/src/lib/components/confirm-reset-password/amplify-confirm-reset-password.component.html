<!-- 
  Define default contents here
-->
<ng-template #confirmResetPasswordSubmitButton>
  <button data-amplify-button type="submit">Send Code</button>
</ng-template>

<ng-template #confirmResetPasswordFooter>
  <div data-amplify-footer>
    <div>
      Back to{{ ' ' }}
      <a data-amplify-link (click)="toSignIn()">Sign In</a>
    </div>
    <ng-container
      [ngTemplateOutlet]="
        customComponents.confirmResetPasswordSubmitButton ||
        confirmResetPasswordSubmitButton
      "
      [ngTemplateOutletContext]="context()"
    >
    </ng-container>
  </div>
</ng-template>

<ng-template #confirmResetPasswordForm>
  <form
    data-amplify-form
    ngNativeValidate
    (submit)="onSubmit($event)"
    (input)="onInput($event)"
  >
    <fieldset data-amplify-fieldset [disabled]="isPending">
      <amplify-form-input
        name="confirmation_code"
        type="number"
        autocomplete="one-time-code"
        [required]="true"
      ></amplify-form-input>
      <amplify-form-input
        name="password"
        label="New password"
        autocomplete="new-password"
        [required]="true"
      ></amplify-form-input>

      <div data-amplify-resend>
        Lost your code? {{ ' ' }}
        <a data-amplify-link (click)="resend()">Resend Code</a>
      </div>

      <ng-container
        [ngTemplateOutlet]="
          customComponents.confirmResetPasswordFooter ||
          confirmResetPasswordFooter
        "
        [ngTemplateOutletContext]="context()"
      ></ng-container>
    </fieldset>

    <amplify-error *ngIf="remoteError">
      {{ remoteError }}
    </amplify-error>
  </form>
</ng-template>

<!-- 
  Render confirm reset password component
-->
<div data-amplify-container>
  <h2 data-amplify-header>{{ this.headerText }}</h2>
  <ng-container
    [ngTemplateOutlet]="
      customComponents.confirmResetPasswordForm || confirmResetPasswordForm
    "
    [ngTemplateOutletContext]="context()"
  >
  </ng-container>
</div>
