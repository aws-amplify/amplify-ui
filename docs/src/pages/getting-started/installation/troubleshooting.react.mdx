## Troubleshooting

### Vite

When working with a [Vite](https://vitejs.dev) project you must make a few modifications. Please follow the steps below.

**1.** Add the following script tag to the `index.html` file at the bottom of the `<body>` tag.

```html
...
  <script>
    window.global = window;
    window.process = {
      env: { DEBUG: undefined },
    };
    var exports = {};
  </script>
</body>
```

**2.** Update the `vite.config.ts` and add in a resolve object inside the `defineConfig({})` as seen below.

```js
...
export default defineConfig({
  plugins: [react()],
  resolve: {
      alias: [
      {
        find: './runtimeConfig',
        replacement: './runtimeConfig.browser',
      },
    ]
  }
})
```

**3.** Update the `tsconfig.json` file and add `skipLibCheck: true` under `compilerOptions`.

```js
...
  "compilerOptions": {
    "skipLibCheck": true,
...
```

**4.** Update the `package.json` file and add `@aws-amplify/ui` to `resolutions`:

```js
...
  "resolutions": {
    "@aws-amplify/ui": "^3.0.0"
  },
...
```
