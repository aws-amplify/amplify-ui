import { Alert, Expander, ExpanderItem } from '@aws-amplify/ui-react';

import { ComponentStyleDisplay } from '@/components/ComponentStyleDisplay';
import ReactPropsTable from '@/components/propsTable/ReactPropsTable';
import { Example, ExampleCode } from '@/components/Example';
import { STORAGE_MANAGER, FILE_PICKER, DROPZONE_PROPS, DISPLAY_TEXT } from './props';
import {
  DefaultStorageManagerExample,
  StorageManagerComponentOverridesExample,
  StorageManagerThemeExample,
  StorageManageri18nExample,
  StorageManagerProcessFileExample,
  StorageManagerDisplayTextExample,
} from './examples'

<Alert role="none" heading="Wait!">
  Did you follow the [quick start instructions](/connected-components/storage#quick-start) to set up the storage and auth services?
</Alert>

## Basic Usage



<Alert>
  The uploading capabilities in these examples are stubbed out so they don't actually upload files anywhere!
</Alert>

To use the StorageManager component import it into your React application with the included styles. At a minimum you must include the `accessLevel`, `acceptedFileTypes`, and `maxFileCount` props.

<Example>
  <DefaultStorageManagerExample />
  <ExampleCode>
    ```jsx file=./examples/DefaultStorageManagerExample.tsx
    ```
  </ExampleCode>
</Example>

### Props

<ReactPropsTable props={STORAGE_MANAGER} />

## Setting Limits

### Resumable

<Alert type="info">
  A resumable upload will upload the file in chunks. You will typically want to do this only when the expected files are larger than 1mb.
</Alert>

## Modify file and name

<Example>
  <StorageManagerProcessFileExample />
  <ExampleCode>
    ```jsx file=./examples/StorageManagerProcessFileExample.tsx
    ```
  </ExampleCode>
</Example>

## Event Handling

The StorageManager component has several event handlers: `onUploadSuccess`, `onUploadError`, and `onFileRemove`

## Customization

### Text and labels

All text in the StorageManager component is customizable with the `displayText` prop. 

<Example>
  <StorageManagerDisplayTextExample />
  <ExampleCode>
    ```jsx file=./examples/StorageManagerDisplayTextExample.tsx
    ```
  </ExampleCode>
</Example>

<Expander isCollapsible>
  <ExpanderItem title="Display text props" value="display-text">
    <ReactPropsTable props={DISPLAY_TEXT} />
  </ExpanderItem>
</Expander>

### Internationalization

You can use the `displayText` prop to also support different languages. Use an open source library like i18next, react-intl, or make your own:

<Example>
  <StorageManageri18nExample />
  <ExampleCode>
    ```jsx file=./examples/StorageManageri18nExample.tsx
    ```
  </ExampleCode>
</Example>

### Component overrides

Don't like how things look? Use your own components inside the StorageManager! You can pass your own components with the `components` prop. The available components to override are: `Container`, `FileList`, `FileListHeader`, `DropZone`, and `FilePicker`. 

_You can even use a completely different UI kit like MUI, Chakra, or your own design system!_

<Example>
  <StorageManagerComponentOverridesExample />
  <ExampleCode>
    ```jsx file=./examples/StorageManagerComponentOverridesExample.tsx
    ```
  </ExampleCode>
</Example>

<Expander type="multiple">
  <ExpanderItem title="FilePicker props" value="filepicker">
    <ReactPropsTable props={FILE_PICKER} />
  </ExpanderItem>
  <ExpanderItem title="DropZone props" value="dropzone">
    <ReactPropsTable props={DROPZONE_PROPS} />
  </ExpanderItem>
</Expander>


### Theming

<Example>
  <StorageManagerThemeExample />
  <ExampleCode>
    ```jsx file=./examples/StorageManagerThemeExample.tsx
    ```
  </ExampleCode>
</Example>


### Target Classes

If you like, you can target classes directly or use CSS variables to make changes to the look and feel of the File Uploader. 

<ComponentStyleDisplay componentName="StorageManager" />
