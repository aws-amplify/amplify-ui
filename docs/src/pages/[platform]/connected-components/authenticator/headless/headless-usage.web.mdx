import { Fragment } from '@/components/Fragment';
import { ResponsiveTable, ResponsiveTableCell } from '@/components/ResponsiveTable';
import { Tabs, TabItem, Table, TableHead, TableRow, TableCell, TableBody, View } from '@aws-amplify/ui-react';


<Fragment>
  {({ platform }) => import(`./advanced/useAuthenticator.${platform}.mdx`)}
</Fragment>

## Access Auth State

<Fragment>
  {({ platform }) => import(`./advanced/current-route.${platform}.mdx`)}
</Fragment>

## Access Authenticated User

<Fragment>
  {({ platform }) => import(`./advanced/current-user.${platform}.mdx`)}
</Fragment>

## Trigger Transitions

<Fragment>
  {({ platform }) => import(`./advanced/trigger-transitions.${platform}.mdx`)}
</Fragment>

### Example

Here's an example that uses the `toResetPassword` trigger transition, to create a custom button. Note that example uses the [Footer "slot" override](../authenticator/customization#headers--footers).

<Fragment>
  {({ platform }) => import(`./advanced/example.${platform}.mdx`)}
</Fragment>

## Full API

<Fragment>
  {({ platform }) => import(`./advanced/full-api.${platform}.mdx`)}
</Fragment>

<Tabs overflow="scroll">
  <TabItem title="Access Contexts">

    These are `readonly` contexts that represent the current auth state. Any unapplicable `context` will be `undefined`.

    <ResponsiveTable highlightOnHover>
      <TableHead>
        <TableRow>
          <TableCell as="th">Name</TableCell>
          <TableCell as="th">Description</TableCell>
          <TableCell as="th">Type</TableCell>
        </TableRow>
      </TableHead>
      <TableBody>
        <TableRow>
          <ResponsiveTableCell label="Name">`user`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Current signed in user</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">[`CognitoUserAmplify`](https://github.com/aws-amplify/amplify-ui/blob/f9be291e4b89137d7b521bd3e82b4f96ee4323f6/packages/ui/src/types/authMachine.ts#L113-L115)</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`route`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Name of the auth flow user is in</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`string`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`error`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Any error returned from service API call</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`string`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`validationErrors`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Any form validation errors found. Maps each error message to respective input name.</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`Record<string, string>`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`hasValidationErrors`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Whether there are any form validation errors</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`boolean`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`isPending`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Whether service API call is in progress</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`boolean`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`codeDeliveryDetail`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Provides detail on where confirm sign up code is sent to.</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">[`CodeDeliveryDetail`](https://github.com/aws-amplify/amplify-js/blob/6c4d4b5fc737652f88dcdfa26bdb02a1defdfa2e/packages/amazon-cognito-identity-js/index.d.ts#L9-L13)</ResponsiveTableCell>
        </TableRow>
      </TableBody>
    </ResponsiveTable>
    
  </TabItem>
  <TabItem title="Trigger Transition">

These helper functions trigger transition to another `route`. Note that any invalid transition (e.g. `sign-in` to `authenticated` directly) will be no-op.

    
    <ResponsiveTable highlightOnHover>
      <TableHead>
        <TableRow>
          <TableCell as="th">Name</TableCell>
          <TableCell as="th">Description</TableCell>
          <TableCell as="th">Type</TableCell>
        </TableRow>
      </TableHead>
      <TableBody>
        <TableRow>
          <ResponsiveTableCell label="Name">`toSignIn`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Transitions to `signIn`. Allowed from `signUp`, `confirmSignUp`, `confirmSignIn`, `setupTOTP`, `resetPassword`, and `confirmResetPassword`</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`() => void`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`toSignUp`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Transitions to `signUp`. Allowed from `signIn`.</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`() => void`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`toResetPassword`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Transitions to `resetPassword`. Allowed from `signIn`.</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`() => void`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`toFederatedSignIn`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Transitions to `provider`'s federated sign in page. Supported `provider` values can be found [here](https://github.com/aws-amplify/amplify-ui/blob/96830f6a34a417aa9bc6329c839679bd10da84f0/packages/ui/src/helpers/auth.ts#L104-L109).</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`(provider: string) => void`</ResponsiveTableCell>
        </TableRow>
        <TableRow>
          <ResponsiveTableCell label="Name">`skipVerification`</ResponsiveTableCell>
          <ResponsiveTableCell label="Description">Skips verification process. Allowed from `verifyUser` and `confirmVerifyUser`</ResponsiveTableCell>
          <ResponsiveTableCell label="Type">`() => void`</ResponsiveTableCell>
        </TableRow>
      </TableBody>
    </ResponsiveTable>
    
  </TabItem>
</Tabs>
