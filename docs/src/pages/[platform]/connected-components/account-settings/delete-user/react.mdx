import { ScrollView } from '@aws-amplify/ui-react';

import ReactPropsTable from '@/components/propsTable/ReactPropsTable';
import { Example, ExampleCode } from '@/components/Example';
import { DELETE_USER, OVERRIDES, WARNING } from './props';

### Props

<ReactPropsTable props={DELETE_USER} />

### Basic Usage

`DeleteUser` has `onSuccess` handler that will be called after successful user account deletion. You may use this callback to run any custom handling, such as navigating route or rendering confirmation messages.

<Example>
  <ExampleCode>

```jsx
import React from 'react';
import { DeleteUser } from '@aws-amplify/ui-react';

function App() {
  const handleSuccess = () => {
    alert('password is successfully changed!')
  }
  
  return (
    <DeleteUser onSuccess={handleSuccess}/>
  );
}
```

  </ExampleCode>
</Example>

### Override default delete handler
You can override the default deleteUser handler with `handleDelete` prop to add any custom cleanup handlers before or after account deletion.

<Example>
  <ExampleCode>

```jsx
import React from 'react';

import { Auth } from 'aws-amplify';
import { DeleteUser } from '@aws-amplify/ui-react';

function App() {
  const handleSuccess = () => {
    alert('password is successfully changed!')
  }

  const handleDelete = async () => {
    console.log("Doing some clean up...");
    console.log("Done!");
    await Auth.deleteUser();
  };  
      
  return (
    <DeleteUser onSuccess={handleSuccess} handleDelete={handleDelete} />
  );
}
```

  </ExampleCode>
</Example>

### Component Overrides

You can provide your own UI components to override parts of `DeleteUser`. It supports the following slots:

<ReactPropsTable props={OVERRIDES} />


#### Reusing default components

Default components are accessible through `DeleteUser.COMPONENT_NAME` (e.g. `DeleteUser.NewPassword`) for your convenience. This is useful if you're interested in modifying just a small part of UI instead of overriding the whole component.

<Example>
  <ExampleCode>

```jsx
function App() {
  const components = {
    // reuse default component
    SubmitButton: (props) => (
      <DeleteUser.SubmitButton {...props}>Custom Submit Button</DeleteUser.SubmitButton>
    ),
  }

  return (
    <DeleteUser components={components} />
  );
}
```

  </ExampleCode>
</Example>


#### Using your own component

You can override parts of the `DeleteUser` component by passing in a `components` prop.

<Example>
  <ExampleCode>

```jsx
function App() {
  const components = {
    // use your own component
    SubmitButton: (props) => (
      <button {...props} type="submit">
        Custom Button Text
      </button>
    )
  };
  
  return (
    <DeleteUser components={components} />
  );
}
```

  </ExampleCode>
</Example>

Note that spreading props is necessary so that event listeners like `onChange` or html attributes like `name` are attached correctly. If you're providing your own custom components, make sure props are spread onto it.

#### Overriding `Warning`` component

Warning component requires the following props:

<ReactPropsTable props={WARNING} />

The following example overrides the warning component to require users to type "delete" before they can delete their account.

<ScrollView height="600px">
  <Example>
    <ExampleCode>
  
```jsx{10-37,43} file=../../../../../../../examples/next/pages/ui/components/account-settings/delete-user-with-overrides/index.page.tsx#L1-L66

```

    </ExampleCode>
  </Example>
</ScrollView>
