
**1.** Add the following script tag to the `index.html` file right before the `</body>` tag. This will only run on the client side and will polyfill Node globals.

```html
  <script>
    window.global = window;
    window.process = {
      env: { DEBUG: undefined },
    }
    var exports = {};
  </script>
</body>
```

**2.** Update the `vite.config.ts` (or `vite.config.js`) and add a resolve alias inside the `defineConfig({})` as seen below.

```ts
export default defineConfig({
  plugins: [react()],
  resolve: {
      alias: [
      {
        find: './runtimeConfig',
        replacement: './runtimeConfig.browser', // ensures browser compatible version of AWS JS SDK is used
      },
    ]
  }
})
```

**3.** (Optional for TS users) If you run into TypeScript errors importing `aws-exports.js`, you may need to update the `tsconfig.json` file with the following config and add a type declaration file:

```json
  "compilerOptions": {
    "allowJs": true,
  }
...
```

`aws-exports.d.ts` file:
```
declare const awsmobile: Record<string, any>
export default awsmobile;
```

If you are still having issues, please see comments on the following issue for additional [Vite workarounds](https://github.com/aws-amplify/amplify-js/issues/9639). Note that there is active ongoing work to make these modifications unnecessary. 
