import { Fragment } from '@/components/Fragment'; 
import { Message, View, Link } from '@aws-amplify/ui-react';
import { MessageDemo } from './demo';
import { ComponentStyleDisplay } from '@/components/ComponentStyleDisplay';
import ThemeExample from '@/components/ThemeExample.mdx';
import { Example, ExampleCode } from '@/components/Example';
import {
  BasicUsage,
  BasicWithDismiss,
  HideIcon,
  IconProviderExample,
  MessageColorThemes,
  MessageVariations,
  WithCustomizedDismiss,
  ComposableMessage,
  MessageGlobalStyling,
  MessageStyleProps,
  MessageAsAlert,
  MessageThemeExample
} from './examples';


## Demo

<MessageDemo />

## Usage

Message can be customized via props as a basic component, or it can be used as a <a href="#composable">composable component</a> which provides more control over layout and functionality.

<Example>
  <BasicUsage />
  <ExampleCode>
    ```jsx file=./examples/BasicUsage.tsx

    ```

  </ExampleCode>
</Example>

### Color themes

Message accepts the `colorTheme` prop which allows for different color variations. The available options are `neutral` (default), `error`, `info`, `success`, and `warning`. Messages that use a `error`, `info`, `success`, or `warning` colorTheme will show an icon by default.

<Example>
  <MessageColorThemes />
  <ExampleCode>
    ```jsx file=./examples/MessageColorThemes.tsx

    ```

  </ExampleCode>
</Example>

### Icon

The Message icon can be hidden by using the prop `hasIcon={false}`. See this section on <a href="#icons">using IconProvider to configure your own icons</a> for Message to use.

<Example>
  <HideIcon />
  <ExampleCode>
    ```jsx file=./examples/HideIcon.tsx

    ```

  </ExampleCode>
</Example>

### Variations

Message accepts the `variation` prop which allows for different background and border options.

<Example>
  <MessageVariations />
  <ExampleCode>
    ```jsx file=./examples/MessageVariations.tsx

    ```

  </ExampleCode>
</Example>

### Dismissable

Messages can be dismissed by setting `isDismissible={true}`. Additional dismiss behavior can be added by passing a function to the `onDismiss` prop. By default, we provide accessible button text that is hidden visually with <a href="/react/components/visuallyhidden">VisuallyHidden</a>; you can override this label by using the `dismissButtonLabel` prop.

For more control over the appearance and functionality of the dismiss button, consider <a href="#composable">using Message as a composable component</a>.

<Example>
  <BasicWithDismiss />
  <ExampleCode>
    ```jsx file=./examples/BasicWithDismiss.tsx

    ```

  </ExampleCode>
</Example>

## Composable

For further control over the layout and child elements, Message includes composable child components to add extra layout customization: 
- `Message.Content`
- `Message.Heading`
- `Message.Dismiss`
- `Message.Icon`

<Example>
  <ComposableMessage />
  <ExampleCode>
    ```jsx file=./examples/ComposableMessage.tsx

    ```

  </ExampleCode>
</Example>

### Customizing the Dismiss child component

`Message.Dismiss` can be customized to hide the icon by setting the prop `hasIcon={false}`. It can also accept custom button text and other props that our <Link href="/react/components/button">Button</Link> primitive accepts.

You can also override the dismiss functionality completely by passing an `onClick` event.

<Example>
  <WithCustomizedDismiss />
  <ExampleCode>
    ```jsx file=./examples/WithCustomizedDismiss.tsx

    ```

  </ExampleCode>
</Example>

## Styling

<ThemeExample component="Message">
<Example>
  <MessageThemeExample />
  
  <ExampleCode>
  ```jsx file=./examples/MessageThemeExample.tsx
  ```
  </ExampleCode>
</Example>
</ThemeExample>

### Target classes

<ComponentStyleDisplay componentName="Message" />

### Global styling

To override styling on all Messages, you can override Amplify CSS variables or use the <a href="#target-classes">target classes for Message</a> in your own stylesheet.

<Example>
  <MessageGlobalStyling />
  <ExampleCode>
    ```css
    /* Override CSS variables */
    [data-amplify-theme] {
      --amplify-components-message-filled-background-color: var(--amplify-colors-purple-10);
      --amplify-components-message-heading-font-size: var(--amplify-font-sizes-xl);
    }
    /* Or target class names */
    .amplify-message {
      background-color: var(--amplify-colors-purple-10);
    }
    .amplify-message__heading {
      font-size: var(--amplify-font-sizes-xl);
    }
    ```
  </ExampleCode>
</Example>

### Local styling

To override styling on a specific Message or sub-component, you can use (in order of increasing specificity): a class selector and style props.

<Example>
  <ExampleCode>
    ```jsx
    <Message className="my-message"></Message>
    ```
  
    ```css
    /* styles.css */
    .my-message {
      background-color: #ebffff;
    }
    ```
  </ExampleCode>
</Example>

#### Using style props
<Example>
  <MessageStyleProps />
  
  <ExampleCode>
  ```jsx file=./examples/MessageStyleProps.tsx
  ```
  </ExampleCode>
</Example>

### Icons

Message icons can be customized using IconProvider.

<Example>
  <IconProviderExample />
  
  <ExampleCode>

  ```tsx file=./examples/IconProviderExample.tsx

  ```

  </ExampleCode>
</Example>

## Accessibility

Message does not have an ARIA role configured by default. Depending on your own use case, you can pass a `role` attribute or add your own ARIA attributes where needed.

### As an alert

You can pass a role, such as `alert`, to the wrapper element of Message.

<Example>
  <MessageAsAlert />
  
  <ExampleCode>

  ```tsx file=./examples/MessageAsAlert.tsx

  ```

  </ExampleCode>
</Example>


