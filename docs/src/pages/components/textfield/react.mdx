import { Alert, Link, TextField } from '@aws-amplify/ui-react';

import { TextFieldDemo } from './demo';
import {
  DefaultRequiredTextFieldExample,
  DefaultTextAreaExample,
  DefaultTextFieldExample,
  RequiredTextFieldExample,
  TextAreaMaxLengthExample,
  TextAreaResizableExample,
  TextAreaRowsExample,
  TextAreaSizeExample,
  TextFieldAccessibilityExample,
  TextFieldDescriptiveTextExample,
  TextFieldInnerComponentsExample,
  TextFieldInputStyleExample,
  TextFieldOuterAndInnerComponentsExample,
  TextFieldOuterComponentsExample,
  TextFieldSizeExample,
  TextFieldStatesExample,
  TextFieldStylePropsExample,
  TextFieldValidationErrorExample,
  TextFieldVariationExample,
} from './examples';
import { Example, ExampleCode } from '@/components/Example';
import { Fragment } from '@/components/Fragment';

<Alert variation="warning" heading="Migration to 3.0">
  Multiline text field functionality using the legacy `isMultiline` prop has
  been moved to <Link href="./textareafield">TextAreaField</Link> in
  `@aws-amplify/ui-react@v3`.
</Alert>

## Demo

<TextFieldDemo />

## Usage

Import the `TextField` component and styles and provide a `label` for accessibility/usability.

<Example>
  <DefaultTextFieldExample />
  <ExampleCode>

```jsx file=./examples/DefaultTextFieldExample.tsx

```

</ExampleCode>
</Example>

### Accessibility / Label behavior

<Fragment>{() => import('./../shared/formFieldAccessibility.mdx')}</Fragment>

<Example>
  <TextFieldAccessibilityExample />
  <ExampleCode>

```jsx file=./examples/TextFieldAccessibilityExample.tsx

```

  </ExampleCode>
</Example>

### Sizes

TextField sizes are designed to match styling of other field components such as buttons. There are three sizes: small, (default), and large.

<Example>
  <TextFieldSizeExample />
  <ExampleCode>

```jsx file=./examples/TextFieldSizeExample.tsx

```

  </ExampleCode>
</Example>

### Variations

There are two variation styles available: default and `quiet`.

<Example>
  <TextFieldVariationExample />
  <ExampleCode>

```jsx file=./examples/TextFieldVariationExample.tsx

```

  </ExampleCode>

</Example>


### Outer components

Compose field components such as `Button` and `Select` at the start or end of an TextField input using the `outerStartComponent` or `outerEndComponent` props.

<Example>
  <TextFieldOuterComponentsExample />
  <ExampleCode>

```jsx file=./examples/TextFieldOuterComponentsExample.tsx

```

  </ExampleCode>
</Example>

### Inner components (icons)

Compose `FieldGroupIcon` or `FieldGroupIconButton` components inside TextField input using innerStartComponent and innerEndComponent.
To create an interactive icon button, use the `FieldGroupIconButton` component. To add an icon that's not interactive, use `FieldGroupIcon` component.

Note: When clicked, `FieldGroupIcon` will focus the field, whereas the `FieldGroupIconButton` will trigger its `onClick` event.

<Example>
  <TextFieldInnerComponentsExample />
  <ExampleCode>

```jsx file=./examples/TextFieldInnerComponentsExample.tsx

```

  </ExampleCode>
</Example>

_You can also both inner and outer components together_

<Example>
  <TextFieldOuterAndInnerComponentsExample />
  <ExampleCode>

```jsx file=./examples/TextFieldOuterAndInnerComponentsExample.tsx

```

  </ExampleCode>
</Example>

### Descriptive text

To provide additional descriptive text of requirements of the field, use the `descriptiveText` field:

<Example>
  <TextFieldDescriptiveTextExample />
  <ExampleCode>

```jsx file=./examples/TextFieldDescriptiveTextExample.tsx

```

  </ExampleCode>
</Example>

### States

The available TextField states include `isDisabled` and `isReadonly`. A disabled field will be not be focusable not mutable and will not be submitted with form data. A readonly field cannot be edited by the user.

<Example>
  <TextFieldStatesExample />
  <ExampleCode>

```jsx file=./examples/TextFieldStatesExample.tsx

```

  </ExampleCode>
</Example>

### Required fields

Use the `isRequired` prop to specify a required field.

<Example>
  <DefaultRequiredTextFieldExample />
  <ExampleCode>

```jsx file=./examples/DefaultRequiredTextFieldExample.tsx

```

  </ExampleCode>
</Example>

There is no default styling for required fields. Customize the `label` or `descriptiveText` to instruct the form user of the required field.

<Example>
  <RequiredTextFieldExample />
  <ExampleCode>

```jsx file=./examples/RequiredTextFieldExample.tsx

```

  </ExampleCode>
</Example>

### Validation error styling

Use the `hasError` and `errorMessage` fields to mark a TextField as having an validation error.

<Example>
  <TextFieldValidationErrorExample />
  <ExampleCode>

```jsx file=./examples/TextFieldValidationErrorExample.tsx

```

  </ExampleCode>
</Example>

## Styling

### Global styling

To override styling on all TextField primitives, you can set the Amplify CSS variables with the built-in `.amplify-textfield` class.

<Example>
  <TextField
    label="Globally styled field"
    className="globally-styled-textfield"
  />
  <ExampleCode>
```css
/* styles.css */
.amplify-textfield {
  --amplify-components-fieldcontrol-border-color: rebeccapurple;
}
```
  </ExampleCode>
</Example>

### Local styling

To override styling on a specific TextField, you can use a class selector or style props.

#### Using a class selector

<Example>
  <TextField className="custom-textfield-class" label="Square field" />
  <ExampleCode>
```css
/* styles.css */
.custom-textfield-class .amplify-input {
  border-radius: 0;
}
```
  </ExampleCode>
</Example>

#### Using style props

All style props will be applied to the outermost [Flex](/components/flex) component of the TextField.

<Example>
  <TextFieldStylePropsExample />
  <ExampleCode>

```jsx file=./examples/TextFieldStylePropsExample.tsx

```

  </ExampleCode>
</Example>

<Fragment>{() => import('./../shared/inputStyles.mdx')}</Fragment>

<Example>
  <TextFieldInputStyleExample />
  <ExampleCode>

```jsx file=./examples/TextFieldInputStyleExample.tsx

```

  </ExampleCode>
</Example>
