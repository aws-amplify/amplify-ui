import { Menu, MenuItem } from '@aws-amplify/ui-react';

import { MenuDemo } from './demo';
import {
  BasicExample,
  MenuAlignExample,
  MenuExample,
  ControlledExample,
  SizeExample,
  ThemeExample,
} from './examples/';

import { Example, ExampleCode } from '@/components/Example';

Menu provides an accessible, interactive menu for selecting actions within an application. Dropdown menu is collision-aware and will automatically change location based on available space.

## Demo

<MenuDemo />

## Usage

Import the `Menu` and `MenuItem` components and styles. Use `MenuItem` component to configure menu options.

<Example>
  <BasicExample />
  <ExampleCode>

```tsx file=./examples/basicExample.tsx

```

  </ExampleCode>
</Example>

### Size

Control the size of the Menu buttons and items using the `size` prop. Available options are `small`, none (default), and `large`.

<Example>
  <SizeExample />
  <ExampleCode>

```tsx file=./examples/sizeExample.tsx

```

  </ExampleCode>
</Example>

### Menu alignment

Alignment of menu with button trigger can be controlled using the `menuAlign` prop. Available options are `start` (default), `center`, and `end`.

<Example>
  <MenuAlignExample />
  
  <ExampleCode>

```tsx file=./examples/menuAlignExample.tsx

```

  </ExampleCode>
</Example>

### Customize trigger button

The default trigger button can be overwritten using the `trigger` prop on `Menu` with the `MenuButton` component.
`MenuButton` can take all the same props as [Button](./button).

<Example>
  <MenuExample />
  <ExampleCode>

```tsx file=./examples/menuExample.tsx

```

  </ExampleCode>
  
</Example>

### Controlled Menu

Create a controlled `Menu` using the `isOpen` and `onOpenChange` props.

<Example>
  <ControlledExample />
  <ExampleCode>

```tsx file=./examples/controlledExample.tsx

```

  </ExampleCode>
</Example>

## Styling

<Example>
  <ThemeExample />
  <ExampleCode>

```tsx file=./examples/ThemeExample.tsx

```

  </ExampleCode>
</Example>

### Target classes

| Class                        | Description                                                                     |
| ---------------------------- | ------------------------------------------------------------------------------- |
| `amplify-menu-content`       | Menu content container (`Flex`)                                                 |
| `amplify-menu-content__item` | Menu item button (`MenuButton`, wrapped in `amplify-menu-content` class)        |
| `amplify-menu-trigger`       | Menu trigger button (`MenuButton`, not wrapped in `amplify-menu-content` class) |

### Global styling

To override styling on all Menus, you can set the Amplify CSS variables with the built-in classes.

```css
/* styles.css */
.amplify-menu-content {
  --amplify-components-button-color: var(--amplify-colors-brand-secondary-90);
}
.amplify-menu-trigger {
  --amplify-components-button-border-color: var(
    --amplify-colors-brand-secondary-90
  );
  --amplify-components-button-color: var(--amplify-colors-brand-secondary-90);
}
```

```jsx
import { Menu, MenuItem } from '@aws-amplify/ui-react';
import '@aws-amplify/ui-react/styles.css';

import './styles.css';

<Menu>
  <MenuItem>Download</MenuItem>
  <MenuItem>Create a Copy</MenuItem>
  <MenuItem>Mark as Draft</MenuItem>
</Menu>;
```

<Example>
  <Menu
    className="global-styling-menu"
    triggerClassName="global-styling-menu-trigger"
  >
    <MenuItem>Download</MenuItem>
    <MenuItem>Create a Copy</MenuItem>
    <MenuItem>Mark as Draft</MenuItem>
  </Menu>
</Example>

### Local styling

To override styling on a specific Menu, you can use (in order of increasing specificity): a class selector, data attributes, or style props.

_Using a class selector:_

Note: The `classname` prop is applied to the Menu dropdown content. Use the `triggerClassName` prop to apply a class to the menu trigger button.

```css
/* styles.css */
.my-menu-trigger.amplify-menu-trigger {
  border-color: var(--amplify-colors-brand-secondary-90);
  color: var(--amplify-colors-brand-secondary-90);
}
.my-menu-content .amplify-menu-content__item {
  color: var(--amplify-colors-brand-secondary-90);
}
.my-menu-content .amplify-menu-content__item:hover {
  background-color: var(--amplify-colors-brand-secondary-90);
}
```

```jsx
import { Menu, MenuItem } from '@aws-amplify/ui-react';
import '@aws-amplify/ui-react/styles.css';

import './styles.css';

<Menu className="my-menu-content" triggerClassName="my-menu-trigger">
  <MenuItem>Download</MenuItem>
  <MenuItem>Create a Copy</MenuItem>
  <MenuItem>Mark as Draft</MenuItem>
</Menu>;
```

<Example>
  <Menu className="my-menu-content" triggerClassName="my-menu-trigger">
    <MenuItem>Download</MenuItem>
    <MenuItem>Create a Copy</MenuItem>
    <MenuItem>Mark as Draft</MenuItem>
  </Menu>
</Example>

_Using data attributes:_

```css
/* styles.css */
.amplify-menu-content__item[data-size='large'] {
  font-size: var(--amplify-font-sizes-xxxxl);
}
```

```jsx
import { Menu, MenuItem } from '@aws-amplify/ui-react';
import '@aws-amplify/ui-react/styles.css';

import './styles.css';

<Menu size="large">
  <MenuItem>Download</MenuItem>
  <MenuItem>Create a Copy</MenuItem>
  <MenuItem>Mark as Draft</MenuItem>
</Menu>;
```

<Example>
  <Menu size="large" className="custom-font-size">
    <MenuItem>Download</MenuItem>
    <MenuItem>Create a Copy</MenuItem>
    <MenuItem>Mark as Draft</MenuItem>
  </Menu>
</Example>

_Using style props:_

```jsx
import { Menu, MenuItem } from '@aws-amplify/ui-react';
import '@aws-amplify/ui-react/styles.css';

<Menu direction="row">
  <MenuItem>Download</MenuItem>
  <MenuItem>Create a Copy</MenuItem>
  <MenuItem>Mark as Draft</MenuItem>
</Menu>;
```

<Example>
  <Menu direction="row">
    <MenuItem>Download</MenuItem>
    <MenuItem>Create a Copy</MenuItem>
    <MenuItem>Mark as Draft</MenuItem>
  </Menu>
</Example>
