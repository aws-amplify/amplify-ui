---
title: Authenticator
---

import {
  Alert,
  Authenticator,
  CheckboxField,
  Link,
  TextField,
  useAuthenticator,
} from '@aws-amplify/ui-react';
import { Example } from '@/components/Example';
import { Feature } from '@/components/Feature';
import { Fragment } from '@/components/Fragment';
import { XStateInspector } from '@/components/XStateInspector';
import Block from 'amplify-docs/src/components/Block';
import BlockSwitcher from 'amplify-docs/src/components/BlockSwitcher';

import { LabelsAndTextDemo } from './LabelsAndTextDemo';

The `Authenticator` component adds complete [authentication flows](https://docs.amplify.aws/lib/auth/getting-started/q/platform/js)
to your application with minimal boilerplate.

<Example>
  <Authenticator />

  <p className="text-sm text-center mt-6 text-gray-500 italic">
    <strong>Note</strong>: This example isn't fully functional until configured
    with an Amplify backend.
  </p>
</Example>

## Quick Start

> Preqrequisite: [Create an Authentication backend](https://docs.amplify.aws/lib/auth/getting-started/q/platform/js)

The quickest way to get started is by wrapping your application with the Authenticator component.
Once an end-user has created an account & signed in, the underlying component is rendered with access to the `user`.

<Fragment>{({ platform }) => import(`./quick-start.${platform}.mdx`)}</Fragment>

## Configuration

### Zero Configuration

The Authenticator works seamlessly with the [Amplify CLI](https://docs.amplify.aws/cli/start/install/)
to **automatically** work with your backend.

First, update `@aws-amplify/cli@beta` with [npm](https://www.npmjs.com/) or [yarn](https://yarnpkg.com/):

<BlockSwitcher>
<Block name="npm">

```shell
npm install -g @aws-amplify/cli@beta
```

</Block>
<Block name="yarn">

```shell
yarn add @aws-amplify/cli@beta
```

</Block>
</BlockSwitcher>

Finally, run `amplify pull` to sync your `aws-exports.js` with your cloud backend:

```shell
amplify pull
```

This will update your `aws-exports.js` with your latest backend configuration for the Authenticator.

### `initialState`

By default, unauthenticated users are redirected to the `signIn` flow.

You can explicitly redirect to `signUp` or `resetPassword` as your `initialState`:

<BlockSwitcher>
  <Block name="Sign In">
    <Fragment>
      {({ platform }) => import(`./initialState.signIn.${platform}.mdx`)}
    </Fragment>
    <Example>
      <Authenticator initialState="signIn" />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
  <Block name="Sign Up">
    <Fragment>
      {({ platform }) => import(`./initialState.signUp.${platform}.mdx`)}
    </Fragment>
    <Example>
      <Authenticator initialState="signUp" />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
  <Block name="Reset Password">
    <Fragment>
      {({ platform }) => import(`./initialState.resetPassword.${platform}.mdx`)}
    </Fragment>
    <Example>
      <Authenticator initialState="resetPassword" />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
</BlockSwitcher>

### `loginMechanisms`

<Alert heading="Zero Configuration">

The Authenticator [automatically infers](#zero-configuration) `loginMechanisms` from `amplify pull`,
but you customize it as seen below.

</Alert>

By default, the Authenticator creates new users in the Amazon Cognito UserPool based on a unique `username` using
[`Auth.signUp`](https://docs.amplify.aws/lib/auth/emailpassword/q/platform/js).

You can provide an alternative `username` such as `email` or `phone_number`.

> **Note**: A `username`, `email`, or `phone_number` value is required for Cognito User Pools.

<BlockSwitcher>
  <Block name="Username">
    <Fragment>
      {({ platform }) => import(`./loginMechanisms.username.${platform}.mdx`)}
    </Fragment>
    <Example>
      <Authenticator />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
  <Block name="Email">
    <Fragment>
      {({ platform }) => import(`./loginMechanisms.email.${platform}.mdx`)}
    </Fragment>
    <Example>
      <Authenticator loginMechanisms={['email']} />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
  <Block name="Phone Number">
    <Fragment>
      {({ platform }) =>
        import(`./loginMechanisms.phone_number.${platform}.mdx`)
      }
    </Fragment>
    <Example>
      <Authenticator loginMechanisms={['phone_number']} />
      <p className="text-sm text-center mt-6 text-gray-500 italic">
        <strong>Note</strong>: This example isn't fully functional until
        configured with an Amplify backend.
      </p>
    </Example>
  </Block>
</BlockSwitcher>

### `socialProviders`

<Alert heading="Zero Configuration">

The Authenticator [automatically infers](#zero-configuration) `socialProviders` from `amplify pull`,
but you customize it as seen below.

</Alert>

For your [configured social providers](https://docs.amplify.aws/lib/auth/social/q/platform/js/), you can also provide `amazon`, `facebook`, or `google`:

<Fragment>
  {({ platform }) => import(`./socialProviders.${platform}.mdx`)}
</Fragment>

<Example>
  <Authenticator socialProviders={['amazon', 'apple', 'facebook', 'google']} />
  <p className="text-sm text-center mt-6 text-gray-500 italic">
    <strong>Note</strong>: This example isn't fully functional until configured
    with an Amplify backend.
  </p>
</Example>

## Customization

### Internationalization (I18n)

The `Authenticator` ships with [translations](https://github.com/aws-amplify/amplify-ui/blob/main/packages/ui/src/i18n/translations.ts) for:

- `en` â€“ English (default)
- `zh` â€“ Chinese
- `fr` â€“ French
- `de` â€“ German
- `it` â€“ Italian
- `ja` â€“ Japenese
- `es` â€“ Spanish

These [translations](https://github.com/aws-amplify/amplify-ui/blob/main/packages/ui/src/i18n/translations.ts) can be customized using the [Amplify JS' `I18n`](https://docs.amplify.aws/lib/utilities/i18n/q/platform/js/) module:

```js
import { translations } from '@aws-amplify/ui';
I18n.putVocabularies(translations);
I18n.setLanguage('fr');

I18n.putVocabularies({
  fr: {
    'Sign In': 'Se connecter',
    'Sign Up': "S'inscrire",
  },
  es: {
    'Sign In': 'Registrarse',
    'Sign Up': 'RegÃ­strate',
  },
});
```

The list of available keys are available [here](https://github.com/aws-amplify/amplify-ui/blob/main/packages/ui/src/i18n/translations.ts).

<Alert variation="info" heading="Translations Needed ðŸ“–">
  If you see any missing translations or would like to contribute a new
  language, we greatly appreciate contributions to translations we have
  [here](https://github.com/aws-amplify/amplify-ui/blob/main/packages/ui/src/i18n/dictionaries).
</Alert>

### Labels & Text

Using the same techniques as [Internationalization (I18n)](#internationalization-i18n), you can customize the labels and text of the components:

<BlockSwitcher>
  <Block name="Default Values">
    Compare the default labels below to those in the customized screens via the tabs above.

    Because `I18n` manages global translations, customizing these will affect all translations of these strings (including those on this page!).

    <Example>
      <Authenticator />
    </Example>

  </Block>
  <Block name="Sign In">

    ```js
    I18n.putVocabulariesForLanguage('en', {
      'Sign In': 'Login', // Tab header
      'Sign in': 'Log in', // Button label
      'Sign in to your account': 'Welcome Back!',
      Username: 'Enter your username', // Username label
      Password: 'Enter your password', // Password label
      'Forgot your password? ': 'Reset Password',
    });
    ```

    <Example>
      <LabelsAndTextDemo Component={Authenticator.SignIn} />
    </Example>

  </Block>

  <Block name="Sign Up">
    
    ```js
    I18n.putVocabulariesForLanguage('en', {
      'Create Account': 'Register', // Tab header
      'Create a new account': 'New User', // Header text
      'Confirm Password': 'Confirm your password', // Confirm Password label
      Email: 'Enter your email',
      'Phone Number': 'Enter your phone number',
    });
    ```

    <Example>
      <LabelsAndTextDemo Component={Authenticator.SignUp} />
    </Example>

  </Block>

  <Block name="Reset Password">
    
    ```js
    I18n.putVocabulariesForLanguage('en', {
      'Reset your password': 'Forgot your password?',
      'Enter your username': 'Username or Email',
      'Send code': 'Reset my password',
      'Back to Sign In': 'Back to Login',
    });
    ```

    <Example>
      <LabelsAndTextDemo Component={Authenticator.ResetPassword} />
    </Example>

  </Block>

  <Block name="Setup TOTP">

    ```js
    I18n.putVocabulariesForLanguage('en', {
      Loading: 'QR code would show here',
      Code: '2FA Code',
      Confirm: 'Confirm 2FA',
      'Back to Sign In': 'Back to Login',
    });
    ```

    <Example>
      <LabelsAndTextDemo Component={Authenticator.SetupTOTP} />
    </Example>

  </Block>
</BlockSwitcher>

### Sign Up Fields

The following example customizes the Sign Up screen with:

- Prepending custom `preferred_username` field
- Re-using the default form fields
- Appending a custom "Terms & Conditions" checkbox with custom validation

<Fragment>
  {({ platform }) => import(`./customization.${platform}.mdx`)}
</Fragment>

<Example>
  <Authenticator
    initialState="signUp"
    loginMechanisms={['email']}
    components={{
      SignUp: {
        FormFields() {
          const { validationErrors } = useAuthenticator();
          return (
            <>
              <TextField
                label="Preferred Username"
                labelHidden={true}
                name="preferred_username"
                placeholder="Preferred Username"
              />
              <Authenticator.SignUp.FormFields />
              <CheckboxField
                errorMessage={validationErrors.acknowledgement}
                hasError={!!validationErrors.acknowledgement}
                name="acknowledgement"
                value="yes"
              >
                I agree with the Terms & Conditions
              </CheckboxField>
            </>
          );
        },
      },
    }}
    services={{
      async validateCustomSignUp(formData) {
        if (!formData.acknowledgement) {
          return {
            acknowledgement: 'You must agree to the Terms & Conditions',
          };
        }
      },
    }}
  />
</Example>

### Styling

You can customize the Authenticator's default [theme](/ui/theme) with [CSS variables](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties).
The example below uses a `<style>` tag to change the default colors to a dark theme:

```css
[data-amplify-authenticator] {
  --amplify-colors-background-primary: var(--amplify-colors-neutral-90);
  --amplify-colors-background-secondary: var(--amplify-colors-neutral-100);
  --amplify-colors-background-tertiary: var(--amplify-colors-black);
  ...
  --amplify-components-text-color: var(--amplify-colors-font-interactive);
}
```

<Example className="customization-styles">
  <style>{`
    .example.customization-styles {
      background-color: #1a1a1a !important;
      color: #eee !important;
    }
    .example.customization-styles [data-amplify-authenticator] {
      --amplify-colors-background-primary: var(--amplify-colors-neutral-90);
      --amplify-colors-background-secondary: var(--amplify-colors-neutral-100);
      --amplify-colors-background-tertiary: var(--amplify-colors-black);
      --amplify-colors-border-primary: var(--amplify-colors-neutral-20);
      --amplify-colors-border-secondary: var(--amplify-colors-neutral-40);
      --amplify-colors-border-tertiary: var(--amplify-colors-neutral-60);
      --amplify-colors-brand-primary-10: var(--amplify-colors-teal-100);
      --amplify-colors-brand-primary-20: var(--amplify-colors-teal-90);
      --amplify-colors-brand-primary-40: var(--amplify-colors-teal-80);
      --amplify-colors-brand-primary-60: var(--amplify-colors-teal-60);
      --amplify-colors-brand-primary-80: var(--amplify-colors-teal-40);
      --amplify-colors-brand-primary-90: var(--amplify-colors-teal-20);
      --amplify-colors-brand-primary-100: var(--amplify-colors-teal-10);
      --amplify-colors-font-interactive: var(--amplify-colors-white);
      --amplify-components-heading-color: var(--amplify-colors-neutral-20);
      --amplify-components-tabs-item-active-border-color: var(--amplify-colors-white);
      --amplify-components-tabs-item-active-color: var(--amplify-colors-white);
      --amplify-components-tabs-item-color: var(--amplify-colors-white);
      --amplify-components-tabs-item-focus-color: var(--amplify-colors-white);
      --amplify-components-text-color: var(--amplify-colors-font-interactive);
    }
  `}</style>
  <Authenticator />
  <p className="text-sm text-center mt-6 text-gray-500 italic">
    <strong>Note</strong>: This example isn't fully functional until configured
    with an Amplify backend.
  </p>
</Example>

### Additional CSS Styling

You can also override the authenticator's `amplify-*` classes.

For example, if you'd like to hide the sign up tab, you can override the `amplify-tabs` class.

```css
.amplify-tabs {
  display: none;
}
```

<Example>
  <style>{`
    .customization-hide-sign-up .amplify-tabs {
      display: none;
    }
  `}</style>
  <Authenticator className="customization-hide-sign-up" />
  <p className="text-sm text-center mt-6 text-gray-500 italic">
    <strong>Note</strong>: This example isn't fully functional until configured
    with an Amplify backend.
  </p>
</Example>
